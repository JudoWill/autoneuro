---

title: CNNS


keywords: fastai
sidebar: home_sidebar



nb_path: "05_cnns.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 05_cnns.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The Comprehensive Neuropsycological Normative System is an important part of the full domain processing scheme.
However, it has a difficult to use input and output format.
This is a collection of utilities to manage that.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>


<span class="kn">from</span> <span class="nn">autoneuro.calculators</span> <span class="kn">import</span> <span class="n">TestCalculator</span>
<span class="kn">from</span> <span class="nn">autoneuro.field_mapping</span> <span class="kn">import</span> <span class="n">FieldMapper</span>
<span class="kn">from</span> <span class="nn">autoneuro.domains</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">autoneuro.batteries</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">paths</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;redcap_id&#39;</span><span class="p">,</span> <span class="s1">&#39;data/ducomout/ClinicalAndTranslati_DATA_2021-04-24_1737.csv&#39;</span><span class="p">),</span>
         <span class="c1">#(&#39;oldneuro_id&#39;, &#39;data/neuro_data.xlsx&#39;),</span>
         <span class="p">]</span>

<span class="n">cnac</span> <span class="o">=</span> <span class="n">Collection</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">()</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span><span class="o">.</span><span class="n">scale_data</span><span class="p">()</span>
<span class="n">cnac</span><span class="o">.</span><span class="n">scaled_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">how</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>&lt;ipython-input-6-fa33ed76d3d6&gt;:5: DtypeWarning: Columns (2,17,18,97,106,109,112,139,140,141,247,254,268,275,279,281,357,358,363,410,411,477,494,505,535,536,541,707,709,711,853,870,884,928,929,930,944,949,959,966,977,987,988,989,995,1004,1005,1006,1012,1019,1021,1022,1023,1029) have mixed types.Specify dtype option on import or set low_memory=False.
  cnac = Collection.from_defaults().load_data(paths).scale_data()
/home/will/DamLabResources/autoneuro/autoneuro/operators.py:168: FutureWarning: The `truediv` parameter in pd.eval is deprecated and will be removed in a future version.
  res = pd.eval(self.equation, local_dict=data.to_dict(), truediv=True)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>age</th>
      <th>bvmt_delay</th>
      <th>bvmt_false_pos</th>
      <th>bvmt_hits</th>
      <th>bvmt_trial1</th>
      <th>bvmt_trial2</th>
      <th>bvmt_trial3</th>
      <th>bvmt_immediate</th>
      <th>bvmt_retention_denom</th>
      <th>bvmt_learning</th>
      <th>...</th>
      <th>categoryfluency_total_scaled</th>
      <th>categoryfluency_total_heaton</th>
      <th>clockcommand2</th>
      <th>clockcopy2</th>
      <th>clocksum</th>
      <th>clocksum_plc</th>
      <th>rocf</th>
      <th>rocftime</th>
      <th>rocf_plc</th>
      <th>race_desc</th>
    </tr>
    <tr>
      <th>study_id</th>
      <th>date_of_visit</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>760</th>
      <th>2021-01-27</th>
      <td>56.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>None</td>
    </tr>
    <tr>
      <th>761</th>
      <th>2021-02-09</th>
      <td>44.0</td>
      <td>12.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>8.0</td>
      <td>9.0</td>
      <td>10.0</td>
      <td>27.0</td>
      <td>10.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>13.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>32.0</td>
      <td>240.0</td>
      <td>32.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>762</th>
      <th>2021-03-03</th>
      <td>58.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>2.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>11.0</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>8.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>19.5</td>
      <td>170.0</td>
      <td>19.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>763</th>
      <th>2021-03-04</th>
      <td>65.0</td>
      <td>9.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>8.0</td>
      <td>19.0</td>
      <td>8.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>12.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>14.5</td>
      <td>161.0</td>
      <td>14.5</td>
      <td>white</td>
    </tr>
    <tr>
      <th>764</th>
      <th>2021-03-18</th>
      <td>70.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 126 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cnac</span><span class="o">.</span><span class="n">scaled_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bvmt_delay&#39;</span><span class="p">,</span> <span class="s1">&#39;categoryfluency_total&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>age</th>
      <th>bvmt_delay</th>
      <th>bvmt_false_pos</th>
      <th>bvmt_hits</th>
      <th>bvmt_trial1</th>
      <th>bvmt_trial2</th>
      <th>bvmt_trial3</th>
      <th>bvmt_immediate</th>
      <th>bvmt_retention_denom</th>
      <th>bvmt_learning</th>
      <th>...</th>
      <th>categoryfluency_total_scaled</th>
      <th>categoryfluency_total_heaton</th>
      <th>clockcommand2</th>
      <th>clockcopy2</th>
      <th>clocksum</th>
      <th>clocksum_plc</th>
      <th>rocf</th>
      <th>rocftime</th>
      <th>rocf_plc</th>
      <th>race_desc</th>
    </tr>
    <tr>
      <th>study_id</th>
      <th>date_of_visit</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <th>2021-03-11</th>
      <td>70.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>16.0</td>
      <td>6.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>8.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>15.5</td>
      <td>173.0</td>
      <td>15.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>5</th>
      <th>2020-11-19</th>
      <td>61.0</td>
      <td>5.0</td>
      <td>1.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>13.0</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>29.0</td>
      <td>170.0</td>
      <td>29.0</td>
      <td>None</td>
    </tr>
    <tr>
      <th>13</th>
      <th>2021-02-25</th>
      <td>75.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>14.0</td>
      <td>5.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>6.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>10.0</td>
      <td>251.0</td>
      <td>10.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>25</th>
      <th>2021-03-16</th>
      <td>63.0</td>
      <td>3.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>26.0</td>
      <td>147.0</td>
      <td>26.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>38</th>
      <th>2021-01-13</th>
      <td>51.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>8.0</td>
      <td>18.0</td>
      <td>8.0</td>
      <td>5.0</td>
      <td>...</td>
      <td>14.0</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>9.0</td>
      <td>107.0</td>
      <td>9.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>44</th>
      <th>2021-04-14</th>
      <td>56.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>4.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>4.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>68</th>
      <th>2021-03-23</th>
      <td>56.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>12.0</td>
      <td>5.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>8.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>19.0</td>
      <td>110.0</td>
      <td>19.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>86</th>
      <th>2021-02-03</th>
      <td>63.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>7.0</td>
      <td>6.0</td>
      <td>15.0</td>
      <td>7.0</td>
      <td>5.0</td>
      <td>...</td>
      <td>5.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>22.0</td>
      <td>136.0</td>
      <td>22.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>110</th>
      <th>2021-04-15</th>
      <td>54.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>6.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>13.5</td>
      <td>64.0</td>
      <td>13.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>120</th>
      <th>2021-03-30</th>
      <td>59.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
      <td>21.0</td>
      <td>8.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>12.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>12.5</td>
      <td>139.0</td>
      <td>12.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>139</th>
      <th>2021-04-14</th>
      <td>62.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>10.0</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>4.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>17.0</td>
      <td>225.0</td>
      <td>17.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>152</th>
      <th>2021-01-05</th>
      <td>64.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>9.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>27.5</td>
      <td>181.0</td>
      <td>27.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>156</th>
      <th>2021-01-28</th>
      <td>57.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>8.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>7.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>8.5</td>
      <td>153.0</td>
      <td>8.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>162</th>
      <th>2021-02-09</th>
      <td>59.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>11.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>12.0</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>14.0</td>
      <td>75.0</td>
      <td>14.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>195</th>
      <th>2021-04-07</th>
      <td>57.0</td>
      <td>7.0</td>
      <td>2.0</td>
      <td>6.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>18.0</td>
      <td>7.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>9.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>19.5</td>
      <td>137.0</td>
      <td>19.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>211</th>
      <th>2021-01-13</th>
      <td>52.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>16.0</td>
      <td>6.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>12.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>18.0</td>
      <td>140.0</td>
      <td>18.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>213</th>
      <th>2021-03-23</th>
      <td>65.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>2.0</td>
      <td>9.0</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>9.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>23.5</td>
      <td>214.0</td>
      <td>23.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>239</th>
      <th>2021-04-08</th>
      <td>46.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>7.0</td>
      <td>19.0</td>
      <td>8.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>24.5</td>
      <td>174.0</td>
      <td>24.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>256</th>
      <th>2019-01-08</th>
      <td>51.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>7.0</td>
      <td>6.0</td>
      <td>18.0</td>
      <td>7.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>9.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>16.5</td>
      <td>139.0</td>
      <td>16.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>268</th>
      <th>2021-03-24</th>
      <td>39.0</td>
      <td>11.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>11.0</td>
      <td>20.0</td>
      <td>11.0</td>
      <td>8.0</td>
      <td>...</td>
      <td>12.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>24.0</td>
      <td>136.0</td>
      <td>24.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>286</th>
      <th>2021-04-21</th>
      <td>59.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>4.0</td>
      <td>14.0</td>
      <td>6.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>9.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>24.0</td>
      <td>211.0</td>
      <td>24.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>303</th>
      <th>2021-03-24</th>
      <td>59.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>8.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>6.0</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>15.5</td>
      <td>301.0</td>
      <td>15.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>309</th>
      <th>2021-01-20</th>
      <td>58.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>16.0</td>
      <td>6.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>9.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>23.5</td>
      <td>183.0</td>
      <td>23.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>325</th>
      <th>2021-02-10</th>
      <td>57.0</td>
      <td>12.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>11.0</td>
      <td>12.0</td>
      <td>30.0</td>
      <td>12.0</td>
      <td>5.0</td>
      <td>...</td>
      <td>13.0</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>24.5</td>
      <td>174.0</td>
      <td>24.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>333</th>
      <th>2021-03-31</th>
      <td>58.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>8.0</td>
      <td>28.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>27.5</td>
      <td>154.0</td>
      <td>27.5</td>
      <td>None</td>
    </tr>
    <tr>
      <th>383</th>
      <th>2021-03-25</th>
      <td>55.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>8.0</td>
      <td>19.0</td>
      <td>8.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>22.0</td>
      <td>170.0</td>
      <td>22.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>384</th>
      <th>2021-03-25</th>
      <td>59.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>16.0</td>
      <td>7.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>12.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>16.0</td>
      <td>293.0</td>
      <td>16.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>401</th>
      <th>2021-01-14</th>
      <td>62.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>14.0</td>
      <td>7.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>9.0</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>17.0</td>
      <td>126.0</td>
      <td>17.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>413</th>
      <th>2021-03-09</th>
      <td>38.0</td>
      <td>9.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>25.0</td>
      <td>10.0</td>
      <td>5.0</td>
      <td>...</td>
      <td>12.0</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>29.5</td>
      <td>105.0</td>
      <td>29.5</td>
      <td>white</td>
    </tr>
    <tr>
      <th>415</th>
      <th>2021-03-16</th>
      <td>51.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>9.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>...</td>
      <td>6.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>14.5</td>
      <td>117.0</td>
      <td>14.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>418</th>
      <th>2020-12-15</th>
      <td>55.0</td>
      <td>3.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>8.0</td>
      <td>3.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>6.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>13.5</td>
      <td>174.0</td>
      <td>13.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>470</th>
      <th>2021-04-20</th>
      <td>50.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>17.0</td>
      <td>8.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>15.0</td>
      <td>117.0</td>
      <td>15.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>474</th>
      <th>2021-04-15</th>
      <td>64.0</td>
      <td>8.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>11.0</td>
      <td>5.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>8.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>23.0</td>
      <td>80.0</td>
      <td>23.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>485</th>
      <th>2021-02-24</th>
      <td>44.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>20.0</td>
      <td>7.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>4.0</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>20.0</td>
      <td>101.0</td>
      <td>20.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>486</th>
      <th>2021-04-22</th>
      <td>47.0</td>
      <td>9.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
      <td>21.0</td>
      <td>8.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>11.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>22.0</td>
      <td>134.0</td>
      <td>22.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>516</th>
      <th>2021-02-11</th>
      <td>51.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>14.0</td>
      <td>5.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>11.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>11.0</td>
      <td>121.0</td>
      <td>11.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>519</th>
      <th>2021-03-03</th>
      <td>53.0</td>
      <td>9.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
      <td>21.0</td>
      <td>8.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>8.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>24.0</td>
      <td>62.0</td>
      <td>24.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>522</th>
      <th>2021-03-09</th>
      <td>63.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>11.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>11.0</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>22.0</td>
      <td>93.0</td>
      <td>22.0</td>
      <td>white</td>
    </tr>
    <tr>
      <th>529</th>
      <th>2021-01-07</th>
      <td>57.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>2.0</td>
      <td>-1.0</td>
      <td>...</td>
      <td>6.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>95.0</td>
      <td>7.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>531</th>
      <th>2021-04-06</th>
      <td>60.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>8.0</td>
      <td>10.0</td>
      <td>7.0</td>
      <td>25.0</td>
      <td>10.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>6.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>26.0</td>
      <td>143.0</td>
      <td>26.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>538</th>
      <th>2020-12-03</th>
      <td>62.0</td>
      <td>4.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>9.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>16.5</td>
      <td>319.0</td>
      <td>16.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>539</th>
      <th>2021-04-21</th>
      <td>58.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>15.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>11.0</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>12.0</td>
      <td>204.0</td>
      <td>12.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>550</th>
      <th>2021-02-23</th>
      <td>47.0</td>
      <td>9.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>24.0</td>
      <td>9.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>11.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>18.0</td>
      <td>70.0</td>
      <td>18.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>551</th>
      <th>2021-02-23</th>
      <td>59.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>14.0</td>
      <td>6.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>8.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>18.5</td>
      <td>94.0</td>
      <td>18.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>552</th>
      <th>2021-02-25</th>
      <td>58.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>7.0</td>
      <td>9.0</td>
      <td>21.0</td>
      <td>9.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>33.0</td>
      <td>176.0</td>
      <td>33.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>572</th>
      <th>2021-03-17</th>
      <td>51.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>8.0</td>
      <td>17.0</td>
      <td>8.0</td>
      <td>5.0</td>
      <td>...</td>
      <td>5.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>17.0</td>
      <td>198.0</td>
      <td>17.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>577</th>
      <th>2021-03-31</th>
      <td>55.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>12.0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>...</td>
      <td>6.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>15.0</td>
      <td>214.0</td>
      <td>15.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>589</th>
      <th>2021-03-17</th>
      <td>45.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>8.0</td>
      <td>17.0</td>
      <td>8.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>8.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>7.5</td>
      <td>139.0</td>
      <td>7.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>603</th>
      <th>2021-02-11</th>
      <td>37.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>8.0</td>
      <td>10.0</td>
      <td>12.0</td>
      <td>30.0</td>
      <td>12.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>13.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>30.0</td>
      <td>89.0</td>
      <td>30.0</td>
      <td>asian</td>
    </tr>
    <tr>
      <th>653</th>
      <th>2021-02-04</th>
      <td>46.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>2.0</td>
      <td>8.0</td>
      <td>10.0</td>
      <td>20.0</td>
      <td>10.0</td>
      <td>8.0</td>
      <td>...</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>31.0</td>
      <td>156.0</td>
      <td>31.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>665</th>
      <th>2021-04-22</th>
      <td>29.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>27.0</td>
      <td>10.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>13.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>30.0</td>
      <td>191.0</td>
      <td>30.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>675</th>
      <th>2020-11-11</th>
      <td>63.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>11.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>28.0</td>
      <td>203.0</td>
      <td>28.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>679</th>
      <th>2020-11-19</th>
      <td>58.0</td>
      <td>8.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>19.0</td>
      <td>7.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>11.0</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>29.5</td>
      <td>149.0</td>
      <td>29.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>738</th>
      <th>2021-03-04</th>
      <td>57.0</td>
      <td>9.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>7.0</td>
      <td>8.0</td>
      <td>20.0</td>
      <td>8.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>11.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>21.0</td>
      <td>115.0</td>
      <td>21.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>757</th>
      <th>2021-01-12</th>
      <td>48.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>8.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>...</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>759</th>
      <th>2021-01-27</th>
      <td>43.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>8.0</td>
      <td>18.0</td>
      <td>8.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>13.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>22.0</td>
      <td>160.0</td>
      <td>22.0</td>
      <td>white</td>
    </tr>
    <tr>
      <th>761</th>
      <th>2021-02-09</th>
      <td>44.0</td>
      <td>12.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>8.0</td>
      <td>9.0</td>
      <td>10.0</td>
      <td>27.0</td>
      <td>10.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>13.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>9.0</td>
      <td>9.0</td>
      <td>32.0</td>
      <td>240.0</td>
      <td>32.0</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>762</th>
      <th>2021-03-03</th>
      <td>58.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>2.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>11.0</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>8.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>19.5</td>
      <td>170.0</td>
      <td>19.5</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>763</th>
      <th>2021-03-04</th>
      <td>65.0</td>
      <td>9.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>8.0</td>
      <td>19.0</td>
      <td>8.0</td>
      <td>2.0</td>
      <td>...</td>
      <td>12.0</td>
      <td>NaN</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>8.0</td>
      <td>8.0</td>
      <td>14.5</td>
      <td>161.0</td>
      <td>14.5</td>
      <td>white</td>
    </tr>
  </tbody>
</table>
<p>59 rows × 126 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">all_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">cnac</span><span class="o">.</span><span class="n">scaled_data</span><span class="p">,</span> <span class="n">cnac</span><span class="o">.</span><span class="n">measured_data</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">all_data</span> <span class="o">=</span> <span class="n">all_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="o">~</span><span class="n">all_data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">all_data</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">cnac</span><span class="o">.</span><span class="n">measured_data</span><span class="o">.</span><span class="n">index</span>

<span class="k">def</span> <span class="nf">fix_test_date</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;TestDate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="n">out_data</span> <span class="o">=</span> <span class="n">cnac</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">all_data</span><span class="p">,</span> <span class="s1">&#39;internal_field&#39;</span><span class="p">,</span> <span class="s1">&#39;cnns_id&#39;</span><span class="p">,</span> <span class="n">post_convert</span> <span class="o">=</span> <span class="n">fix_test_date</span><span class="p">)</span>
<span class="n">out_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>Age</th>
      <th>ClientID</th>
      <th>Education</th>
      <th>Race</th>
      <th>Sex</th>
      <th>TestDate</th>
      <th>anwords</th>
      <th>bdiscrim</th>
      <th>bnt</th>
      <th>bretain</th>
      <th>...</th>
      <th>mmse</th>
      <th>reyo</th>
      <th>reytime</th>
      <th>swords</th>
      <th>trlsa</th>
      <th>trlsb</th>
      <th>wcscat</th>
      <th>wcserr</th>
      <th>wcsper</th>
      <th>wcst_per_pers</th>
    </tr>
    <tr>
      <th>study_id</th>
      <th>date_of_visit</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">1</th>
      <th>2017-01-24</th>
      <td>61.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2017-01-24</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2017-05-16</th>
      <td>62.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2017-05-16</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2017-07-26</th>
      <td>62.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2017-07-26</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2018-01-09</th>
      <td>62.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2018-01-09</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2018-07-03</th>
      <td>63.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2018-07-03</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 32 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">csv</span>

<span class="n">required_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;gpdom1&#39;</span><span class="p">,</span> <span class="s1">&#39;anwords&#39;</span><span class="p">,</span> <span class="s1">&#39;bdiscrim&#39;</span><span class="p">]</span>

<span class="n">field_order</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">empty_fields</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/cnns/export_template.csv&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">handle</span><span class="p">:</span>
    
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">handle</span><span class="p">):</span>
        <span class="n">field_order</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;empty&#39;</span><span class="p">:</span>
            <span class="n">empty_fields</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">cnns_data</span> <span class="o">=</span> <span class="n">out_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span> <span class="o">=</span> <span class="n">required_fields</span><span class="p">,</span> <span class="n">how</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">field_order</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cnns_data</span><span class="p">[</span><span class="n">empty_fields</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">cnns_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>FirstName</th>
      <th>Middle</th>
      <th>LastName</th>
      <th>ClientID</th>
      <th>DateOfBirth</th>
      <th>Sex</th>
      <th>Race</th>
      <th>TestDate</th>
      <th>Age</th>
      <th>TestDescription</th>
      <th>...</th>
      <th>dom2_ndom2</th>
      <th>dom_ndom</th>
      <th>sumlet_sumcat_Pct</th>
      <th>wordfluency_dfnov_Pct</th>
      <th>dsf_dsb_Pct</th>
      <th>dom1_ndom1_Pct</th>
      <th>dom2_ndom2_Pct</th>
      <th>dom_ndom_Pct</th>
      <th>HARTEstIQ</th>
      <th>CalibrationEstIQ</th>
    </tr>
    <tr>
      <th>study_id</th>
      <th>date_of_visit</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <th>2021-03-11</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2021-03-11</td>
      <td>70.0</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <th>2020-11-19</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>5</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>2020-11-19</td>
      <td>61.0</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>13</th>
      <th>2021-02-25</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>13</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2021-02-25</td>
      <td>75.0</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>25</th>
      <th>2021-03-16</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>25</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2021-03-16</td>
      <td>63.0</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>38</th>
      <th>2021-01-13</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>38</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2021-01-13</td>
      <td>51.0</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 366 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cnns_data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/cnns/IMPORT_DD.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

